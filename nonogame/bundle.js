!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var r=n(1);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".puzzleName {\n    text-align: center;\n    padding: 10px;\n}\n\n.gameCell {\n    height: 10px;\n    width: 10px;\n    border: solid black 1px;\n}\n\n.blank {\n    background-color: grey;\n    visibility: hidden;\n}\n\n.cell {\n    border: solid black 2px;\n}\n\n.cell.block {\n    background-color: black;\n}\n\n.cell.space {\n    background-color: grey;\n}\n\n.cell.cross {\n    background-color: white;\n}\n\n.main {\n    width: 100%;\n    height: 100%;\n}\n\n.container {\n    border: solid black 1px;\n    width: 50%;\n    height: 50%;\n}\n\n.puzzle {\n    margin: auto;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(s).concat([i]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var r,i,s={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,c=0,u=[],h=n(4);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=s[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(z(r.parts[o],t))}else{var l=[];for(o=0;o<r.parts.length;o++)l.push(z(r.parts[o],t));s[r.id]={id:r.id,refs:1,parts:l}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var s=e[i],o=t.base?s[0]+t.base:s[0],l={css:s[1],media:s[2],sourceMap:s[3]};r[o]?r[o].parts.push(l):n.push(r[o]={id:o,parts:[l]})}return n}function d(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertAt.before,n);n.insertBefore(t,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),d(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function z(e,t){var n,r,i,s;if(t.transform&&e.css){if(!(s="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var o=c++;n=a||(a=g(t)),r=y.bind(null,n,o,!1),i=y.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||s)&&(r=h(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(o),l&&URL.revokeObjectURL(l)}.bind(null,n,t),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i];(l=s[o.id]).refs--,r.push(l)}e&&f(p(e,t),t);for(i=0;i<r.length;i++){var l;if(0===(l=r[i]).refs){for(var a=0;a<l.parts.length;a++)l.parts[a]();delete s[l.id]}}}};var b,L=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function y(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=L(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:r+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){"use strict";n.r(t);n(0);const r={"5x5":[{name:"E",horizontal:[[5],[1],[5],[1],[5]],vertical:[[5],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{name:"Snake",horizontal:[[5],[1],[5],[1],[5]],vertical:[[3,1],[1,1,1],[1,1,1],[1,1,1],[1,3]]},{name:"Cross",horizontal:[[3],[2,2],[1,1],[2,2],[3]],vertical:[[3],[2,2],[1,1],[2,2],[3]]},{name:"Flag",horizontal:[[5],[1,1,1],[5],[1],[1]],vertical:[[5],[1,1],[3],[1,1],[3]]},{name:"Zorro",horizontal:[[5],[1],[1],[1],[5]],vertical:[[1,1],[1,2],[1,1,1],[2,1],[1,1]]},{name:"Sharp",horizontal:[[1,1],[5],[1,1],[5],[1,1]],vertical:[[1,1],[5],[1,1],[5],[1,1]]},{name:"Psi",horizontal:[[1,1,1],[1,1,1],[1,1,1],[3],[1]],vertical:[[3],[1],[5],[1],[3]]},{name:"Shuriken",horizontal:[[1,2],[4],[1,1],[4],[2,1]],vertical:[[2,1],[4],[1,1],[4],[1,2]]},{name:"Skull",horizontal:[[3],[5],[1,1,1],[5],[1,1]],vertical:[[3],[2,2],[4],[2,2],[3]]},{name:"Bat",horizontal:[[1,1],[5],[5],[1,1,1],[1,1]],vertical:[[4],[3],[3],[3],[4]]},{name:"Chess",horizontal:[[1,1,1],[1,1],[1,1,1],[1,1],[1,1,1]],vertical:[[1,1,1],[1,1],[1,1,1],[1,1],[1,1,1]]},{name:"Dog",horizontal:[[1],[1,3],[3],[1,1],[1,1]],vertical:[[1],[3],[2],[5],[1]]},{name:"Hourglass",horizontal:[[5],[3],[1],[1,1],[5]],vertical:[[1,1],[2,2],[3,1],[2,2],[1,1]]},{name:"Snowflake",horizontal:[[1,1,1],[3],[2,2],[3],[1,1,1]],vertical:[[1,1,1],[3],[2,2],[3],[1,1,1]]},{name:"Window",horizontal:[[5],[1,1,1],[3,1],[1,1,1],[5]],vertical:[[5],[1,1,1],[5],[1,1],[5]]},{name:"Stairs",horizontal:[[2],[3],[2,1],[2,1],[5]],vertical:[[2],[3],[2,1],[2,1],[5]]},{name:"Car",horizontal:[[],[3],[5],[5],[1,1]],vertical:[[2],[4],[3],[4],[2]]},{name:"Airplane",horizontal:[[1],[3],[5],[1],[3]],vertical:[[1],[2,1],[5],[2,1],[1]]},{name:"Tower",horizontal:[[1,1,1],[5],[3],[1,1],[3]],vertical:[[2],[4],[3,1],[4],[2]]},{name:"Rune",horizontal:[[2],[1],[5],[1,1,1],[3]],vertical:[[3],[1,1,1],[5],[1],[2]]}]};class i{constructor(e,t,n=null){this.rules=t,this.length=e,this.spaces=n||Array.from(i.BLANK.repeat(this.length))}setSpot(e,t){this.spaces[e]=t}getVerifiedCount(){const e=[];let t=0;for(;t<this.spaces.length;)if(this.spaces[t]==i.X)t++;else if(this.spaces[t]==i.BLANK)for(;(this.spaces[t]==i.BLANK||this.spaces[t]==i.BLOCK)&&++t!=this.spaces.length;);else if(this.spaces[t]==i.BLOCK){let n=1;for(;t+n<=this.spaces.length;){if(t+n==this.spaces.length){e.push(n);break}if(this.spaces[t+n]==i.X){e.push(n);break}if(this.spaces[t+n]==i.BLANK)break;this.spaces[t+n]==i.BLOCK&&n++}t+=n}return e}getCurrentCount_(){const e=[];let t=!1,n=0;return this.spaces.forEach(r=>{r==i.BLOCK?(n+=1,t=!0):t&&(t=!1,e.push(n),n=0)}),n>0&&e.push(n),e}isSolved(){const e=this.getCurrentCount_();return!e.map((e,t)=>e==this.rules[t]).includes(!1)&&e.length==this.rules.length}isPossible(){if(this.isSolved())return!0;if(!this.spaces.includes(i.BLANK))return!1;const e=this.spaces.filter(e=>e==i.BLOCK).length,t=this.rules.reduce((e,t)=>e+t),n=this.spaces.filter(e=>e==i.BLANK).length;if(e>t)return!1;if(t>e+n)return!1;const r=this.getVerifiedCount();let s=0;if(r.map(e=>-1!=(s=this.rules.indexOf(e,s))).includes(!1))return!1;const o=this.spaces.slice(),l=o.indexOf(i.BLANK);o[l]=i.BLOCK;let a=new i(this.length,this.rules,o);return!!a.isPossible()||(o[l]=i.X,(a=new i(this.length,this.rules,o)).isPossible())}solve_(){this.isSolved()&&this.spaces.forEach((e,t)=>{e==i.BLANK&&(this.spaces[t]=i.X)}),this.spaces.forEach((e,t)=>{if(e==i.BLANK){const e=this.spaces.slice();e[t]=i.BLOCK;let n=new i(this.length,this.rules,e);if(!n.isPossible())return void(this.spaces[t]=i.X);if(e[t]=i.X,!(n=new i(this.length,this.rules,e)).isPossible())return void(this.spaces[t]=i.BLOCK)}})}tick(){this.solve_()}toString(){return"["+this.rules.join(",")+"] |"+this.spaces.join("|")+"|"}}class s{constructor(e,t){try{this.height=e,this.width=t;const n=r[`${t}x${e}`],s=n[Math.floor(Math.random()*n.length)];this.horizontalRules=s.horizontal,this.verticalRules=s.vertical,this.name=s.name,this.horizontalLines=[],this.verticalLines=[],this.horizontalRules.forEach(e=>{this.horizontalLines.push(new i(this.width,e))}),this.verticalRules.forEach(e=>{this.verticalLines.push(new i(this.height,e))}),this.currentHorizontal=!0,this.currentLine=-1}catch(e){console.log(e)}}getName(){return this.name}getCell(e,t){return this.horizontalLines[t].spaces[e]}getCellClass(e,t){const n=this.getCell(e,t);return n==i.BLOCK?"block":n==i.BLANK?"space":n==i.X?"cross":void 0}lengthVerticalRules(){return Math.max.apply(Math,this.verticalRules.map(e=>e.length))}lengthHorizontalRules(){return Math.max.apply(Math,this.horizontalRules.map(e=>e.length))}getVerticalRule(e,t){return this.verticalRules[e][t]||" "}getHorizontalRule(e,t){return this.horizontalRules[e][t]||" "}getCurrentLine(){let e=this.currentHorizontal?this.horizontalLines:this.verticalLines;return this.currentLine>=e.length&&(this.currentLine=0,this.currentHorizontal=!this.currentHorizontal,e=this.currentHorizontal?this.horizontalLines:this.verticalLines),e[this.currentLine]}getMatchingLine(e){return(this.currentHorizontal?this.verticalLines:this.horizontalLines)[e]}tick(){this.currentLine+=1;const e=this.getCurrentLine();e.tick(),e.spaces.forEach((e,t)=>{this.getMatchingLine(t).spaces[this.currentLine]=e})}isSolved(){return this.horizontalLines.every(e=>e.isSolved())}toString(e,t){return this.horizontalLines.map(e=>e.toString()).join("\n")}}class o{constructor(){this.baseHeight=5,this.baseWidth=5,this.currentPuzzle=new s(this.baseHeight,this.baseWidth),this.puzzlesCompleted=0}tick(){this.currentPuzzle.isSolved()?(this.puzzlesCompleted+=1,this.currentPuzzle=new s(this.baseHeight,this.baseWidth)):this.currentPuzzle.tick()}toString(){return this.currentPuzzle.toString()}}class l{constructor(){this.puzzleTable_=document.getElementById("puzzle"),this.puzzleName_=document.getElementById("puzzleName"),this.puzzlesCompletedElement_=document.getElementById("puzzlesCompleted"),this.sizeSelector_=document.getElementById("sizeSelector"),this.sizeLabel_=document.getElementById("sizeLabel"),this.sizeSelector_.onchange=(e=>{this.setSizeLabel_(),console.log(this.sizeSelector_.value)}),this.setSizeLabel_()}setSizeLabel_(){this.sizeLabel_.textContent=this.sizeSelector_.value}updateStats(e){this.puzzlesCompletedElement_.innerHTML=e.puzzlesCompleted}updatePuzzle(e){for(let t=0;t<e.height;t++)for(let n=0;n<e.width;n++){const r=document.getElementById(`${t},${n}`);r.classList.remove("space"),r.classList.remove("cross"),r.classList.remove("block"),r.classList.add(e.getCellClass(t,n))}}attachGame(e){for(this.puzzleName_.textContent=e.name;this.puzzleTable_.firstChild;)this.puzzleTable_.removeChild(this.puzzleTable_.firstChild);const t=e.lengthVerticalRules(),n=e.lengthHorizontalRules(),r=e.height+t,i=e.width+n;for(let s=0;s<r;s++){const r=this.puzzleTable_.insertRow(s);for(let o=0;o<i;o++){const i=r.insertCell(o),l=o-n,a=s-t;i.classList.add("gameCell"),s<t&&o<n?i.classList.add("blank"):s<t&&o>=n?(i.classList.add("rule"),i.innerHTML=e.getVerticalRule(o-n,s)):s>=t&&o<n?(i.classList.add("rule"),i.innerHTML=e.getHorizontalRule(s-t,o)):(i.classList.add("cell"),i.id=`${l},${a}`,i.innerHTML=" ")}}}}i.BLOCK="&#x25A0",i.BLANK=" ",i.X="X",window.onload=function(){const e=new l,t=new o;setInterval(()=>{console.log("ticking"),function(e,t){t.tick(),e.attachGame(t.currentPuzzle),e.updatePuzzle(t.currentPuzzle),e.updateStats(t)}(e,t),console.log("tick finished")},1e3),console.log("done")}}]);